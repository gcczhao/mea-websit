<!DOCTYPE HTML>
<html>
  <head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Medical &mdash; Premium HTML5 Template by freehtml5.co</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Premium HTML5 Website Template by freehtml5.co" />
  <meta name="keywords" content="premium website templates, premium html5, premium template, premium bootstrap, premium website template, html5, css3, mobile first, responsive" />
  <meta name="author" content="freehtml5.co" />
    <!-- Facebook and Twitter integration -->
  <meta property="og:title" content=""/>
  <meta property="og:image" content=""/>
  <meta property="og:url" content=""/>
  <meta property="og:site_name" content=""/>
  <meta property="og:description" content=""/>
  <meta name="twitter:title" content="" />
  <meta name="twitter:image" content="" />
  <meta name="twitter:url" content="" />
  <meta name="twitter:card" content="" />

  <!--<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700" rel="stylesheet">-->
  <!--<link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,700" rel="stylesheet">-->
  
  <!-- Animate.css -->
  <link rel="stylesheet" href="css/animate.css">
  <!-- Icomoon Icon Fonts-->
  <link rel="stylesheet" href="css/icomoon.css">
  <!-- Bootstrap  -->
  <link rel="stylesheet" href="css/bootstrap.css">

  <!-- Magnific Popup -->
  <link rel="stylesheet" href="css/magnific-popup.css">

  <!-- Owl Carousel  -->
  <link rel="stylesheet" href="css/owl.carousel.min.css">
  <link rel="stylesheet" href="css/owl.theme.default.min.css">

  <!-- Flexslider  -->
  <link rel="stylesheet" href="css/flexslider.css">

  <!-- Pricing -->
  <link rel="stylesheet" href="css/pricing.css">

  <!-- Theme style  -->
  <link rel="stylesheet" href="css/style.css">

  <!-- Modernizr JS -->
  <script src="js/modernizr-2.6.2.min.js"></script>
  <!-- FOR IE9 below -->
  <!--[if lt IE 9]>
  <script src="js/respond.min.js"></script>
  <![endif]-->

  <!-- Styleswitcher ( This style is for demo purposes only, you may delete this anytime. ) -->
   <link rel="stylesheet" id="theme-switch" href="css/style.css">
   <link rel="stylesheet" href="css/color-preset-option.css">
   <!-- End demo purposes only -->

  </head>
  <body>
    
  <div class="fh5co-loader"></div>
  
  <div id="page">
  <nav class="fh5co-nav" role="navigation">
    <div class="top-menu">
      <div class="container">
        <div class="row">
          <div class="col-xs-2">
            <div id="fh5co-logo">
              <a href="index.html"><img src="images/myEyecare_logo_black.png"  width="100"/></a>
            </div>
          </div>
          <div class="col-xs-10 text-right menu-1">
            <ul>
              <li ><a href="index.html">Home</a></li>
              <li ><a href="about.html">About</a></li>
              <li class="btn-cta"><a href="login.html"><span>Login</span></a></li>
              <!--
              <li><a href="services.html">Services</a></li>
              <li class="has-dropdown">
                <a href="departments.html">Departments</a>
                <ul class="dropdown">
                  <li><a href="departments-single.html">Plasetic Surgery Department</a></li>
                  <li><a href="departments-single.html">Dental Department</a></li>
                  <li><a href="departments-single.html">Psychological Department</a></li>
                </ul>
              </li>
              <li class="has-dropdown">
                <a href="doctors.html">Doctors</a>
                <ul class="dropdown">
                  <li><a href="doctors-single.html">Single Doctor</a></li>
                </ul>
              </li>
              <li class="has-dropdown">
                <a href="blog.html">Blog</a>
                <ul class="dropdown">
                  <li><a href="blog-single.html">Single Blog</a></li>
                </ul>
              </li>
              <li><a href="contact.html">Contact</a></li>
              <li class="btn-cta"><a href="appointment.html"><span>Make an Appointment</span></a></li>
               -->
            </ul>
          </div>
        </div>
        
      </div>
    </div>
    <!--
    <div class="top">
      <div class="container">
        <div class="row">
          <div class="col-xs-12 text-right">
            <p class="loc"><i class="icon-location4"></i>198 West 21th Street, Suite 721 New York NY 10016</p>
            <p class="num">Call: <span>+01-123-456-7890</span></p>
            <ul class="fh5co-social">
              <li><a href="#"><i class="icon-facebook2"></i></a></li>
              <li><a href="#"><i class="icon-twitter2"></i></a></li>
              <li><a href="#"><i class="icon-dribbble2"></i></a></li>
              <li><a href="#"><i class="icon-github"></i></a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    -->
  </nav>

  <div id="fh5co-services" style="padding-top: 50px;">
    <div class="container">

      <div class="row animate-box">
        <div class="col-md-2 text-center ">

        </div>
        <div class="col-md-8 text-center "  >
          <style type="text/css">

            .form-signin {
              max-width: 500px;
              padding: 19px 29px 29px;
              margin: 0 auto 20px;
              background-color: #fff;
              border: 1px solid #e5e5e5;
              -webkit-border-radius: 5px;
              -moz-border-radius: 5px;
              border-radius: 5px;
              -webkit-box-shadow: 0 1px 2px rgba(0,0,0,.05);
              -moz-box-shadow: 0 1px 2px rgba(0,0,0,.05);
              box-shadow: 0 1px 2px rgba(0,0,0,.05);
            }
            .form-signin .form-signin-heading,
            .form-signin .checkbox {
              margin-bottom: 10px;
            }
            .form-signin input[type="text"],
            .form-signin input[type="password"] {
              font-size: 16px;
              height: auto;
              margin-bottom: 15px;
              padding: 7px 9px;
            }
          </style>
<!--sign in  -->
          <div class="form-signin" style="padding: 50px"  id="signdiv">
            <h2 class="form-signin-heading">Welcome, please sign in </h2>
            <br>
            <input id="emailaddr" name="emailaddr" type="text" class="form-control" placeholder="Email address">
            <input id="password" name="password" type="password" class="form-control" placeholder="Password">
            <label class="checkbox">
              <a onclick=' $("#signdiv").hide(); $("#forgetpassworddiv").show();'>Forget your password?</a>
            </label>
            <button class="btn btn-primary btn-send-message btn-md"  style="width: 100%" onclick='signin();'>Sign in</button>
            <button class="btn btn-default btn-send-message btn-md"  style="width: 100%" onclick=' $("#signdiv").hide(); $("#registerdiv").show();'>Register</button>
          </div>
<!--Registration -->
          <div class="form-signin" style="padding: 50px; display: none" id="registerdiv">
            <h2 class="form-signin-heading">Registration</h2>
            <br>
<!--            <input id="username" name="username" type="text" class="form-control" placeholder="User Name">-->
            <input id="emailaddrreg" name="emailaddr" type="text" class="form-control" placeholder="Email address">
<!--            <input id="mobilephone" name="mobilephone" type="text" class="form-control" placeholder="Phone">-->
            <input id="passwordreg" name="password" type="password" class="form-control" placeholder="Password">
            <p class="checkbox">
              By clicking Sign Up, I agree to MyEYECARE's <a href="./policy.html#/tos">Term of Service</a>, <a  href="./policy.html#/tops">Payments Terms of Service</a> and <a  href="./policy.html#/pp">Privacy Policy.</a>
            </p>
            <button onclick="doregister();" class="btn btn-primary btn-send-message btn-md" type="submit" style="width: 100%">Sign up</button>
            <button class="btn btn-default btn-send-message btn-md"  style="width: 100%" onclick=' $("#registerdiv").hide(); $("#signdiv").show();'>Back to sign in</button>
          </div>
<!--verification code -->
          <div class="form-signin" style="padding: 50px; display: none" id="verificationdiv">
            <h2 class="form-signin-heading">Verification code</h2>
            <br>
            <input id="emailaddrverification" name="emailaddr" type="text" class="form-control" placeholder="Email address" disabled="disabled">
            <input id="verificationcode" name="verificationcode" type="number" class="form-control" placeholder="verification code" >
            <p class="checkbox" style="text-align: left">
              Please check inbox of your email address you used when creating the account to see the verification code, then enter here to complete the registration
            </p>
            <button onclick="doverificationcode();" class="btn btn-primary btn-send-message btn-md" type="submit" style="width: 100%">Verify code</button>
            <button class="btn btn-default btn-send-message btn-md"  style="width: 100%" onclick=' '>Sign in</button>
          </div>
<!--forget password -->
          <div class="form-signin" style="padding: 50px; display: none" id="forgetpassworddiv">
            <h2 class="form-signin-heading">Forgot Password</h2>
            <br>
            <input id="forgetpassword" name="forgetpassword" type="email" class="form-control" placeholder="Email account" >
            <br>
            <p  style="text-align: left">Enter the email address you used when creating the account and tap Send Password Reset Email. A message will be sent to that address containing a link to reset your password. For security reasons the link can only be used for one hour.</p>
            <button onclick="forgetpassword();" class="btn btn-primary btn-send-message btn-md" type="submit" style="width: 100%">Send Password Reset Email</button>
          </div>


        </div>
        <div class="col-md-2 text-center ">

        </div>
      </div>

    </div>
  </div>

    <!-- Modal -->
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title" id="myModalLabel">Verification code</h4>
          </div>
          <div class="modal-body">

          </div>
          <div class="modal-footer">

          </div>
        </div>
      </div>
    </div>

  <footer id="fh5co-footer" role="contentinfo"  style="background-color: #5bc0de; padding-top: 0px;">
    <div class="row copyright">
      <div class="col-md-12 text-center">
        <p>
          <small class="block">myEyecare &copy; 2017</small>
          <small class="block">San Francisco</small>
          <!--<small class="block">Designed by <a href="http://freehtml5.co/" target="_blank">FreeHTML5.co</a> Demo Images: <a href="http://unsplash.co/" target="_blank">Unsplash</a> &amp; <a href="https://www.pexels.com/" target="_blank">Pexels</a></small>-->
        </p>
      </div>
    </div>
  </footer>
  </div>

  <div class="gototop js-top">
    <a href="#" class="js-gotop"><i class="icon-arrow-up"></i></a>
  </div>
  
  <!-- jQuery -->
  <script src="js/jquery-1.11.3.min.js"></script>
  <script src="./js/aws-cognito-sdk.js"></script>
  <script src="./js/amazon-cognito-identity.min.js"></script>
  <!-- jQuery Easing -->
  <script src="js/jquery.easing.1.3.js"></script>
  <!-- Bootstrap -->
  <script src="js/bootstrap.min.js"></script>
  <!-- Waypoints -->
  <script src="js/jquery.waypoints.min.js"></script>
  <!-- Validate -->
  <script src="js/jquery.validate.min.js"></script>
  <!-- Stellar Parallax -->
  <script src="js/jquery.stellar.min.js"></script>
  <!-- Carousel -->
  <script src="js/owl.carousel.min.js"></script>
  <!-- Flexslider -->
  <script src="js/jquery.flexslider-min.js"></script>
  <!-- countTo -->
  <script src="js/jquery.countTo.js"></script>
  <!-- Magnific Popup -->
  <script src="js/jquery.magnific-popup.min.js"></script>
  <script src="js/magnific-popup-options.js"></script>
  <!-- Sticky Kit -->
  <script src="js/sticky-kit.min.js"></script>
  <!-- Main -->
  <script src="js/main.js"></script>

  
  <script type="text/javascript">
    AWSCognito.config.region = 'us-east-1'; //This is required to derive the endpoint

    var cognitoUser;

    var poolData = {
      UserPoolId : 'us-east-1_59d39hLJV',
      ClientId : '6pjngse29sg2pqd9gkiseou5tb'
    };
    var userPool = new AWSCognito.CognitoIdentityServiceProvider.CognitoUserPool(poolData);

    var userData = {
      Username : $("#emailaddr").val(), // your username here
      Pool : userPool
    };

    function doregister() {
      var attributeList = [];

      var dataEmail = {
        Name : 'email',
        Value : $("#emailaddrreg").val()
      };

      userData.Username = $("#emailaddrreg").val();
//      var dataPhoneNumber = {
//        Name : 'phone_number',
//        Value : $("#mobilephone").val()
//      };
      var attributeEmail = new AWSCognito.CognitoIdentityServiceProvider.CognitoUserAttribute(dataEmail);
//      var attributePhoneNumber = new AWSCognito.CognitoIdentityServiceProvider.CognitoUserAttribute(dataPhoneNumber);

      attributeList.push(attributeEmail);
//      attributeList.push(attributePhoneNumber);

      userPool.signUp($("#emailaddrreg").val(), $("#passwordreg").val(), attributeList, null, function(err, result){
//        $('#myModal').modal('show');
        if (err) {
          alert(err.message);

          if(err.statusCode == 400){
            var r=confirm("Whether or not to resend verification code?");
            if (r==true)
            {
              var userData = {
                Username : $("#emailaddrreg").val(), // your username here
                Pool : userPool
              };
              var cognitoUser = new AWSCognito.CognitoIdentityServiceProvider.CognitoUser(userData);
              cognitoUser.resendConfirmationCode(function(err, result) {
                if (err) {
                  alert(err);
                  return;
                }
                $("#registerdiv").hide(); $("#verificationdiv").show();
                $("#emailaddrverification").val(userData.Username);
                //alert(result);
              });
            }

          }
          return;
        }

        if(result == null){

        }else{
          $("#registerdiv").hide(); $("#verificationdiv").show();
          $("#emailaddrverification").val(userData.Username);
          cognitoUser = result.user;
          console.log('user name is ' + cognitoUser.getUsername());
        }

      });

    }

    function doverificationcode() {
//      var userData = {
//        Username : $("#forgetpassword").val(), // your username here
//        Pool : userPool
//      };
      var cognitoUser = new AWSCognito.CognitoIdentityServiceProvider.CognitoUser(userData);

      cognitoUser.confirmRegistration( $("#verificationcode").val(), true, function(err, result) {
        if (err) {
          alert(err);
          return;
        }
        //$('#myModal').modal('hide');
        if(result == "SUCCESS"){
          alert("SUCCESS，please sign in...");
          $("#verificationdiv").hide(); $("#signdiv").show();
          $("#emailaddrverification").val(userData.Username);
        }

        console.log('call result: ' + result);
      });

    }

    function signin() {
      var authenticationData = {
        Username : $("#emailaddr").val(), // your username here
        Password : $("#password").val(), // your password here
      };
      var authenticationDetails = new AWSCognito.CognitoIdentityServiceProvider.AuthenticationDetails(authenticationData);

      userData.Username = $("#emailaddr").val();

      var cognitoUser = new AWSCognito.CognitoIdentityServiceProvider.CognitoUser(userData);
      cognitoUser.authenticateUser(authenticationDetails, {
        onSuccess: function (result) {
          console.log('access token + ' + result.getAccessToken().getJwtToken());
          alert("SUCCESS...");
        },

        onFailure: function(err) {
          alert(err);
        },
        mfaRequired: function(codeDeliveryDetails) {
          var verificationCode = prompt('Please input verification code' ,'');
          cognitoUser.sendMFACode(verificationCode, this);
        }
      });
    }


    function forgetpassword() {
      var userData = {
        Username : $("#forgetpassword").val(), // your username here
        Pool : userPool
      };
      var cognitoUser = new AWSCognito.CognitoIdentityServiceProvider.CognitoUser(userData);

      cognitoUser.forgotPassword({
        onSuccess: function (result) {
          console.log('call result: ' + result);
        },
        onFailure: function(err) {
          alert(err);
        },
        inputVerificationCode() {
          var verificationCode = prompt('Please input verification code ' ,'');
          var newPassword = prompt('Enter new password ' ,'');
          cognitoUser.confirmPassword(verificationCode, newPassword, this);
          $("#forgetpassworddiv").hide(); $("#signdiv").show();
        }
      });

    }
  </script>
   <!-- For demo purposes Only ( You may delete this anytime )
   <div id="colour-variations">
      <a class="option-toggle"><i class="icon-cog"></i></a>
      <h3>Preset Colors</h3>
      <ul class="one-color">
          <li>
              <a href="javascript: void(0);" data-theme="style">
                  <span style="background: #33CCCC;"></span>
              </a>
          </li>
          <li>
              <a href="javascript: void(0);" data-theme="style-2">
                  <span style="background: #0E7CF4;"></span>
              </a>
          </li>
          <li>
              <a href="javascript: void(0);" data-theme="style-3">
                  <span style="background: #8BC34A;"></span>
              </a>
          </li>
          <li>
              <a href="javascript: void(0);" data-theme="style-4">
                  <span style="background: #EC625F;"></span>
              </a>
          </li>
          <li>
              <a href="javascript: void(0);" data-theme="style-5">
                  <span style="background: #28CC9E;"></span>
              </a>
          </li>
          <li>
              <a href="javascript: void(0);" data-theme="style-6">
                  <span style="background: #0AA0F6;"></span>
              </a>
          </li>
          <li>
              <a href="javascript: void(0);" data-theme="style-7">
                  <span style="background: #7B77FF;"></span>
              </a>
          </li>
          
      </ul>
  </div>
  -->
  <script src="js/jquery.style.switcher.min.js"></script>
  <script>
      $(function(){
          $('#colour-variations ul').styleSwitcher({
              defaultThemeId: 'theme-switch',
              hasPreview: false,
              cookie: {
                    expires: 30,
                    isManagingLoad: true
                }
          });    
          $('.option-toggle').click(function() {
              $('#colour-variations').toggleClass('sleep');
          });
      });
   </script>
   <!-- End demo purposes only -->
  </body>
</html>

